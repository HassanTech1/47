<div
  id="Slideshow-{{ section.id }}"
  class="hero-slideshow slideshow"
  style="--slideshow-speed: {{ section.settings.transition_speed }}ms;"
  data-autoplay="{{ section.settings.autoplay }}"
  data-delay="{{ section.settings.autoplay_speed }}"
  aria-label="{{ 'sections.slideshow.name' | t }}"
>
  {%- for block in section.blocks -%}
    <div
      class="slideshow__slide{% if forloop.first %} slideshow__slide--active{% endif %}"
      {{ block.shopify_attributes }}
    >
      {%- if block.settings.image != blank -%}
        {%- if forloop.first -%}
          {{
            block.settings.image
            | image_url: width: 1920
            | image_tag:
              class: 'slideshow__image',
              widths: '375, 550, 750, 1100, 1500, 1780, 2000',
              loading: 'eager',
              fetchpriority: 'high',
              alt: block.settings.heading | escape
          }}
        {%- else -%}
          {{
            block.settings.image
            | image_url: width: 1920
            | image_tag:
              class: 'slideshow__image',
              widths: '375, 550, 750, 1100, 1500, 1780, 2000',
              loading: 'lazy',
              alt: block.settings.heading | escape
          }}
        {%- endif -%}
      {%- else -%}
        {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg slideshow__image' }}
      {%- endif -%}

      <div class="slideshow__text-wrapper slideshow__text-wrapper--{{ block.settings.text_alignment }}">
        {%- if block.settings.subheading != blank -%}
          <p class="slideshow__subheading">{{ block.settings.subheading }}</p>
        {%- endif -%}
        {%- if block.settings.heading != blank -%}
          <h2 class="slideshow__heading {{ section.settings.heading_size }}">
            {{ block.settings.heading | escape }}
          </h2>
        {%- endif -%}
        {%- if block.settings.button_label != blank -%}
          <a
            href="{{ block.settings.button_link }}"
            class="button button--primary"
          >
            {{ block.settings.button_label | escape }}
          </a>
        {%- endif -%}
      </div>
    </div>
  {%- endfor -%}

  {%- if section.blocks.size > 1 -%}
    <div class="slideshow__controls">
      <button
        type="button"
        class="slideshow__btn slideshow__btn--prev"
        aria-label="{{ 'sections.slideshow.previous_slideshow' | t }}"
      >&#8592;</button>
      <div class="slideshow__dots">
        {%- for block in section.blocks -%}
          <button
            type="button"
            class="slideshow__dot{% if forloop.first %} slideshow__dot--active{% endif %}"
            aria-label="{{ 'sections.slideshow.load_slide' | t }} {{ forloop.index }} {{ 'general.slider.of' | t }} {{ forloop.length }}"
          ></button>
        {%- endfor -%}
      </div>
      <button
        type="button"
        class="slideshow__btn slideshow__btn--next"
        aria-label="{{ 'sections.slideshow.next_slideshow' | t }}"
      >&#8594;</button>
    </div>
  {%- endif -%}

  <p class="slideshow__scroll-hint">Scroll to Explore</p>
</div>

{% schema %}
{
  "name": "t:sections.slideshow.name",
  "tag": "section",
  "class": "section-slideshow",
  "settings": [
    {
      "type": "select",
      "id": "heading_size",
      "options": [
        { "value": "h2", "label": "t:sections.all.heading_size.options__1.label" },
        { "value": "h1", "label": "t:sections.all.heading_size.options__2.label" },
        { "value": "h0", "label": "t:sections.all.heading_size.options__3.label" }
      ],
      "default": "h1",
      "label": "t:sections.all.heading_size.label"
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "default": true,
      "label": "t:sections.slideshow.settings.autoplay.label"
    },
    {
      "type": "range",
      "id": "autoplay_speed",
      "min": 3,
      "max": 9,
      "step": 1,
      "unit": "s",
      "label": "t:sections.slideshow.settings.delay.label",
      "default": 6
    },
    {
      "type": "range",
      "id": "transition_speed",
      "min": 500,
      "max": 3000,
      "step": 100,
      "unit": "ms",
      "label": "Transition speed",
      "default": 2500
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "t:sections.slideshow.blocks.slide.name",
      "limit": 5,
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "t:sections.slideshow.blocks.slide.settings.image.label"
        },
        {
          "type": "text",
          "id": "heading",
          "default": "Creativity",
          "label": "t:sections.slideshow.blocks.slide.settings.heading.label",
          "info": "t:sections.slideshow.blocks.slide.settings.heading.info"
        },
        {
          "type": "text",
          "id": "subheading",
          "default": "With 4seven's products",
          "label": "t:sections.slideshow.blocks.slide.settings.subheading.label"
        },
        {
          "type": "text",
          "id": "button_label",
          "default": "Shop Now",
          "label": "t:sections.slideshow.blocks.slide.settings.button_label.label",
          "info": "t:sections.slideshow.blocks.slide.settings.button_label.info"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "t:sections.slideshow.blocks.slide.settings.button_link.label"
        },
        {
          "type": "select",
          "id": "text_alignment",
          "options": [
            { "value": "left",   "label": "t:sections.slideshow.blocks.slide.settings.text_alignment.options__1.label" },
            { "value": "center", "label": "t:sections.slideshow.blocks.slide.settings.text_alignment.options__2.label" },
            { "value": "right",  "label": "t:sections.slideshow.blocks.slide.settings.text_alignment.options__3.label" }
          ],
          "default": "center",
          "label": "t:sections.slideshow.blocks.slide.settings.text_alignment.label"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.slideshow.presets.name",
      "blocks": [
        {
          "type": "slide",
          "settings": {
            "heading": "Creativity",
            "subheading": "With 4seven's products"
          }
        },
        {
          "type": "slide",
          "settings": {
            "heading": "Elegance",
            "subheading": "Shine with our collection"
          }
        },
        {
          "type": "slide",
          "settings": {
            "heading": "Fashion",
            "subheading": "Luxurious design from the other side"
          }
        }
      ]
    }
  ]
}
{% endschema %}
